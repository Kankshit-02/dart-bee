<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dart Game Spectator View - Watch games live">
    <meta name="theme-color" content="#7d5f92">

    <title>Dart Bee - Spectator View</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/spectator.css">

    <!-- Manifest for PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üêù</text></svg>">

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="scripts/config.js"></script>
</head>
<body>
    <div id="app" class="app-container">
        <!-- Header -->
        <nav class="navbar" style="background: linear-gradient(135deg, #7d5f92 0%, #5a4a6f 100%);">
            <div class="navbar-brand">
                <span class="bee-icon">üêù</span>
                <span class="app-title">Dart Bee - Spectator View</span>
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
                <div class="live-indicator" id="live-status">üî¥ LIVE</div>
                <a href="index.html" class="btn btn-secondary btn-small">‚Üê Back to App</a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Loading State -->
            <div id="loading-state" class="spectator-loading">
                <div class="spinner"></div>
                <p>Loading game...</p>
            </div>

            <!-- Game View -->
            <div id="game-view" class="spectator-container hidden">
                <!-- Game Header -->
                <div class="spectator-header">
                    <h1 id="game-title">Game Loading...</h1>
                    <div class="game-info">
                        <span id="game-type">501 Points</span>
                        <span id="game-started">Started just now</span>
                    </div>
                </div>

                <!-- Scoreboard -->
                <div id="spectator-scoreboard" class="scoreboard">
                    <!-- Dynamically generated -->
                </div>

                <!-- Recent Turns -->
                <div class="spectator-turns-section">
                    <h2>Recent Turns</h2>
                    <div id="spectator-turns" class="turn-history-list">
                        <!-- Dynamically generated -->
                    </div>
                </div>

                <!-- Game Details -->
                <div class="spectator-details">
                    <div class="detail-card">
                        <div class="detail-label">Current Player</div>
                        <div class="detail-value" id="current-player">-</div>
                    </div>
                    <div class="detail-card">
                        <div class="detail-label">Total Turns</div>
                        <div class="detail-value" id="total-turns">0</div>
                    </div>
                    <div class="detail-card">
                        <div class="detail-label">Game Status</div>
                        <div class="detail-value" id="game-status">Active</div>
                    </div>
                </div>
            </div>

            <!-- Error State -->
            <div id="error-state" class="spectator-error hidden">
                <div class="error-content">
                    <h2>Game Not Found</h2>
                    <p id="error-message">Unable to load the requested game. The game may have expired or the link may be invalid.</p>
                    <a href="index.html" class="btn btn-primary">‚Üê Back to App</a>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="scripts/supabase-client.js"></script>
    <script src="scripts/game.js"></script>
    <script src="scripts/spectator.js"></script>
</body>
</html>
